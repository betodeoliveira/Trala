<script>
    // Create timeline 01
    let bg01Timeline = gsap.timeline({ paused: true, ease: "power1.out" });
    // Configurate timeline 01
    bg01Timeline.fromTo(".home-hero_bg-01-wrapper", {opacity: 0, display: "none"}, { opacity: 1, display: "flex", duration: 0 });
    bg01Timeline.fromTo(".home-hero_bg-01_color", { opacity: 0 }, { opacity: 1, duration: 0.3 }, "<");
    bg01Timeline.fromTo(".home-hero_bg-01_element-01", { opacity: 0 }, { opacity: 1, duration: 0.5 }, "<+0.15");
    bg01Timeline.fromTo(".home-hero_bg-01_element-02", { opacity: 0 }, { opacity: 1, duration: 0.125 }, "<");
    bg01Timeline.fromTo(".home-hero_bg-01_element-02", { rotationZ: 6 }, { rotationZ: 0, duration: 1, ease: "elastic.out(1, 0.3)"}, "<");
    bg01Timeline.fromTo(".home-hero_bg-01_element-03", { opacity: 0 }, { opacity: 1, duration: 0.125 }, "<");
    bg01Timeline.fromTo(".home-hero_bg-01_element-03", { y: "-4rem" }, { y: "0rem", duration: 1, ease: "bounce.out"}, "<");

    // Create timeline 02
    let bg02Timeline = gsap.timeline({ paused: true, ease: "power1.out" });
    // Configurate timeline 02
    bg02Timeline.fromTo(".home-hero_bg-02-wrapper", {opacity: 0, display: "none"}, { opacity: 1, display: "flex", duration: 0 });
    bg02Timeline.fromTo(".home-hero_bg-02_color", { opacity: 0 }, { opacity: 1, duration: 0.3 }, "<");
    bg02Timeline.fromTo(".home-hero_bg-02_element-02", { x: "-100%" }, { x: "0%", duration: 0.5, ease: "expo.out" }, "<+0.15");
    bg02Timeline.fromTo(".home-hero_bg-02_element-03", { x: "100%" }, { x: "0%", duration: 0.5, ease: "expo.out" }, "<");
    bg02Timeline.fromTo(".home-hero_bg-02_element-01", { opacity: 0 }, { opacity: 1, duration: 0.5 }, "<+0.25");
    bg02Timeline.fromTo(".home-hero_bg-02_element-04", { opacity: 0 }, { opacity: 1, duration: 0.5 }, "<");
    bg02Timeline.fromTo(".home-hero_bg-02_element-05", { opacity: 0 }, { opacity: 1, duration: 0.5 }, "<");

    // Create timeline 03
    let bg03Timeline = gsap.timeline({ paused: true, ease: "power1.out" });
    // Configurate timeline 03
    bg03Timeline.fromTo(".home-hero_bg-03-wrapper", {opacity: 0, display: "none"}, { opacity: 1, display: "flex", duration: 0 });
    bg03Timeline.fromTo(".home-hero_bg-03_color", { opacity: 0 }, { opacity: 1, duration: 0.3 }, "<");
    bg03Timeline.fromTo(".home-hero_bg-03_element-01", { opacity: 0 }, { opacity: 1, duration: 0.5 }, "<+0.15");
    bg03Timeline.fromTo(".home-hero_bg-03_element-02", { opacity: 0, scale: 1.4 }, { opacity: 1, scale: 1, duration: 0.5, ease: "back.out(1.7)"}, "<");
    bg03Timeline.fromTo(".home-hero_bg-03_element-03", { opacity: 0, x: "4rem" }, { opacity: 1, x: "0rem", duration: 0.5, ease: "sine.out" }, "<");

    // Create timeline 04
    let bg04Timeline = gsap.timeline({ paused: true, ease: "power1.out" });
    // Configurate timeline 04
    bg04Timeline.fromTo(".home-hero_bg-04-wrapper", {opacity: 0, display: "none"}, { opacity: 1, display: "flex", duration: 0 });
    bg04Timeline.fromTo(".home-hero_bg-04_color", { opacity: 0 }, { opacity: 1, duration: 0.3 }, "<");
    bg04Timeline.fromTo(".home-hero_bg-04_element-01", { y: "-100%" }, { y: "0%", duration: 1, ease: "elastic.out(1, 0.8)" }, "<+0.15");
    bg04Timeline.fromTo("[home-hero_bg-04_element-02-star]", { opacity: 0 }, { opacity: 1, duration: 0.5, stagger: 0.1 }, "<");

    // Variables
    let currentWindow;

    // Set on enter
    $(".home-hero_window-01-image").on("mouseenter", function () {
        checkForActiveWindow($(".home-hero_bg-01-wrapper"), bg01Timeline);
        setWindowsOpacity(1, 0.6, 0.6, 0.6);
    });

    $(".home-hero_window-02-image").on("mouseenter", function () {
        checkForActiveWindow($(".home-hero_bg-02-wrapper"), bg02Timeline);
        setWindowsOpacity(0.6, 1, 0.6, 0.6);
    });

    $(".home-hero_window-03-image").on("mouseenter", function () {
        checkForActiveWindow($(".home-hero_bg-03-wrapper"), bg03Timeline);
        setWindowsOpacity(0.6, 0.6, 1, 0.6);
    });

    $(".home-hero_window-04-image").on("mouseenter", function () {
        checkForActiveWindow($(".home-hero_bg-04-wrapper"), bg04Timeline);
        setWindowsOpacity(0.6, 0.6, 0.6, 1);
    });

    function checkForActiveWindow(windowWrapper, timeline) {
        let timeout = 0;
        if(currentWindow) {
            gsap.to(currentWindow, { opacity: 0, duration: 0.25 });
            timeout = 0.25;
        }

        setTimeout(() => {
            currentWindow = windowWrapper;
            timeline.restart();
        }, timeout);
    }

    function setWindowsOpacity(opacityWindow1, opacityWindow2, opacityWindow3, opacityWindow4) {
        gsap.to(".home-hero_window-01-image", { opacity: opacityWindow1, duration: 0.3 });
        gsap.to(".home-hero_window-02-image", { opacity: opacityWindow2, duration: 0.3 });
        gsap.to(".home-hero_window-03-image", { opacity: opacityWindow3, duration: 0.3 });
        gsap.to(".home-hero_window-04-image", { opacity: opacityWindow4, duration: 0.3 });
    }
</script>